# Mock系统测试说明

## 🧪 如何测试新的Mock系统

### 1. 确认Mock已启用
打开浏览器控制台，输入：
```javascript
window.AXIOS_MOCK_CONFIG
```
确认 `enabled: true`

### 2. 测试登录功能
- 用户名：`admin`
- 密码：`123456`
- 预期结果：登录成功

### 3. 观察控制台日志
登录时应该看到以下日志：
```
🎭 axios Mock拦截: POST /users/login {username: "admin", password: "123456"}
🎭 axios Mock响应: {code: 200, message: "登录成功", data: {...}}
response data: {code: 200, message: "登录成功", data: {...}}
```

### 4. 测试错误情况
- 用户名：`test`
- 密码：`wrong`
- 预期结果：登录失败，显示错误消息

### 5. 切换Mock状态
```javascript
// 关闭Mock
window.toggleAxiosMock()

// 再次登录，这时会发送真实请求（可能会失败，因为没有真实后端）
```

## 🔍 验证Mock系统的优势

### 对比测试：

1. **开启Mock时**：
   - ✅ 请求被拦截，返回Mock数据
   - ✅ 经过完整的axios响应拦截器处理
   - ✅ 显示loading状态
   - ✅ 有网络延迟模拟
   - ✅ API代码完全无修改

2. **关闭Mock时**：
   - ❌ 发送真实HTTP请求
   - ❌ 可能因为没有后端而失败
   - ✅ 同样经过axios拦截器处理

## 📊 性能对比

- **旧版Mock**：需要在每个API方法中手动调用Mock拦截器
- **新版Mock**：完全在axios层面处理，API代码零修改

## 🎯 总结

新版Mock系统实现了：
- 🚀 完全无侵入性
- 🔄 完整的HTTP请求链路模拟
- 🐛 更好的调试体验
- 📈 更容易维护和扩展
